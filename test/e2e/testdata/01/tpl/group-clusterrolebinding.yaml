# Group-cluster role binding create a, cluster scoped, mapping from an AD group to a cluster role. 
#
# Parameters:
#   name:       # name of the binding, typically the AD group name.
#   roleRef:    # the ClusterRole to bind (admin, edit, view)
#   groupName:  # groupName is the AD group ID
#
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: {{ .Values.name }}
  labels:
    mmlt.nl/gitops: {{ .Values.gitops }}
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: {{ .Values.roleRef }}
subjects:
- apiGroup: rbac.authorization.k8s.io
  kind: Group
  name: {{ .Values.groupName }}
